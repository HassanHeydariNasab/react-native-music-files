{"version":3,"sources":["index.tsx"],"names":["MusicFiles","NativeModules","startListenTracks","options","Promise","res","rej","Platform","OS","getAll","syncTracks","onTrackReceived","DeviceEventEmitter","addListener"],"mappings":";;;;;;;AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAiBC,0BAAvB;;AAgBA,MAAMC,iBAAiB,GAAIC,OAAD,IAA+B;AACrD,SAAO,IAAIC,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAY;AAC3B,QAAGC,sBAASC,EAAT,KAAgB,SAAnB,EAA6B;AACzBR,MAAAA,UAAU,CAACS,MAAX,CAAkBN,OAAlB,EAA2BE,GAA3B,EAAgCC,GAAhC;AACH,KAFD,MAEK;AACDA,MAAAA,GAAG,CAAC,wBAAD,CAAH;AACH;AACJ,GANM,CAAP;AAOH,CARD;;AAUO,MAAMI,UAAU,GAAG,CAACP,OAAD,EAA4BQ,eAA5B,KAA0E;AAChGC,kCAAmBC,WAAnB,CAA+B,gBAA/B,EAAiDF,eAAjD;;AACA,SAAOT,iBAAiB,CAACC,OAAD,CAAxB;AACH,CAHM;;;eAKQH,U","sourcesContent":["import { NativeModules, Platform, DeviceEventEmitter } from 'react-native';\n\nconst { MusicFiles } = NativeModules;\n\nexport interface MusicFileOptions {\n    minimumSongDuration: number;\n}\n\nexport interface MusicFile {\n    id: string;\n    path: string;\n    artist: string;\n    title: string;\n    displayName: string;\n    album: string;\n}\n\n\nconst startListenTracks = (options: MusicFileOptions) => {\n    return new Promise((res, rej)=>{\n        if(Platform.OS === 'android'){\n            MusicFiles.getAll(options, res, rej);\n        }else{\n            rej('not support on ios yet');\n        }\n    })\n}\n\nexport const syncTracks = (options: MusicFileOptions, onTrackReceived: (track: MusicFile)=> void) =>{\n    DeviceEventEmitter.addListener(\"onSongReceived\", onTrackReceived);\n    return startListenTracks(options);\n}\n\nexport default MusicFiles;\n"]}